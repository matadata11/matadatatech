/*! Select for DataTables 1.2.3
 * 2015-2017 SpryMedia Ltd - datatables.net/license/mit
 */
(function(a){if(typeof define==="function"&&define.amd){define(["jquery","datatables.net"],function(b){return a(b,window,document)})}else{if(typeof exports==="object"){module.exports=function(b,c){if(!b){b=window}if(!c||!c.fn.dataTable){c=require("datatables.net")(b,c).$}return a(c,b,b.document)}}else{a(jQuery,window,document)}}}(function(e,h,l,g){var k=e.fn.dataTable;k.select={};k.select.version="1.2.3";k.select.init=function(v){var E=v.settings()[0];var C=E.oInit.select;var y=k.defaults.select;var t=C===g?y:C;var B="row";var u="api";var D=false;var w=true;var x="td, th";var A="selected";var z=false;E._select={};if(t===true){u="os";z=true}else{if(typeof t==="string"){u=t;z=true}else{if(e.isPlainObject(t)){if(t.blurable!==g){D=t.blurable}if(t.info!==g){w=t.info}if(t.items!==g){B=t.items}if(t.style!==g){u=t.style;z=true}if(t.selector!==g){x=t.selector}if(t.className!==g){A=t.className}}}}v.select.selector(x);v.select.items(B);v.select.style(u);v.select.blurable(D);v.select.info(w);E._select.className=A;e.fn.dataTable.ext.order["select-checkbox"]=function(G,F){return this.api().column(F,{order:"index"}).nodes().map(function(H){if(G._select.items==="row"){return e(H).parent().hasClass(G._select.className)}else{if(G._select.items==="cell"){return e(H).hasClass(G._select.className)}}return false})};if(!z&&e(v.table().node()).hasClass("selectable")){v.select.style("os")}};function m(z,t,y){var w;var u;var A;var v=function(E,C){if(E>C){var D=C;C=E;E=D}var B=false;return z.columns(":visible").indexes().filter(function(F){if(F===E){B=true}if(F===C){B=false;return true}return B})};var x=function(F,C){var D=z.rows({search:"applied"}).indexes();if(D.indexOf(F)>D.indexOf(C)){var E=C;C=F;F=E}var B=false;return D.filter(function(G){if(G===F){B=true}if(G===C){B=false;return true}return B})};if(!z.cells({selected:true}).any()&&!y){u=v(0,t.column);A=x(0,t.row)}else{u=v(y.column,t.column);A=x(y.row,t.row)}w=z.cells(A,u).flatten();if(!z.cells(t,{selected:true}).any()){z.cells(w).select()}else{z.cells(w).deselect()}}function i(v){var u=v.settings()[0];var t=u._select.selector;e(v.table().container()).off("mousedown.dtSelect",t).off("mouseup.dtSelect",t).off("click.dtSelect",t);e("body").off("click.dtSelect"+v.table().node().id)}function p(w){var v=e(w.table().container());var u=w.settings()[0];var t=u._select.selector;v.on("mousedown.dtSelect",t,function(x){if(x.shiftKey||x.metaKey||x.ctrlKey){v.css("-moz-user-select","none").one("selectstart.dtSelect",t,function(){return false})}}).on("mouseup.dtSelect",t,function(){v.css("-moz-user-select","")}).on("click.dtSelect",t,function(D){var A=w.select.items();var y;if(h.getSelection&&e.trim(h.getSelection().toString())){return}var z=w.settings()[0];if(e(D.target).closest("div.dataTables_wrapper")[0]!=w.table().container()){return}var x=w.cell(e(D.target).closest("td, th"));if(!x.any()){return}var C=e.Event("user-select.dt");f(w,C,[A,x,D]);if(C.isDefaultPrevented()){return}var B=x.index();if(A==="row"){y=B.row;c(D,w,z,"row",y)}else{if(A==="column"){y=x.index().column;c(D,w,z,"column",y)}else{if(A==="cell"){y=x.index();c(D,w,z,"cell",y)}}}z._select_lastCell=B});e("body").on("click.dtSelect"+w.table().node().id,function(x){if(u._select.blurable){if(e(x.target).parents().filter(w.table().container()).length){return}if(e(x.target).parents("html").length===0){return}if(e(x.target).parents("div.DTE").length){return}n(u,true)}})}function f(v,u,t,w){if(w&&!v.flatten().length){return}if(typeof u==="string"){u=u+".dt"}t.unshift(v);e(v.table().node()).trigger(u,t)}function r(w){var t=w.settings()[0];if(!t._select.info||!t.aanFeatures.i){return}if(w.select.style()==="api"){return}var x=w.rows({selected:true}).flatten().length;var v=w.columns({selected:true}).flatten().length;var u=w.cells({selected:true}).flatten().length;var y=function(B,A,z){B.append(e('<span class="select-item"/>').append(w.i18n("select."+A+"s",{_:"%d "+A+"s selected",0:"",1:"1 "+A+" selected"},z)))};e.each(t.aanFeatures.i,function(B,C){C=e(C);var z=e('<span class="select-info"/>');y(z,"row",x);y(z,"column",v);y(z,"cell",u);var A=C.children("span.select-info");if(A.length){A.remove()}if(z.text()!==""){C.append(z)}})}function o(t){var u=new k.Api(t);t.aoRowCreatedCallback.push({fn:function(A,y,w){var x,v;var z=t.aoData[w];if(z._select_selected){e(A).addClass(t._select.className)}for(x=0,v=t.aoColumns.length;x<v;x++){if(t.aoColumns[x]._select_selected||(z._selected_cells&&z._selected_cells[x])){e(z.anCells[x]).addClass(t._select.className)}}},sName:"select-deferRender"});u.on("preXhr.dt.dtSelect",function(){var w=u.rows({selected:true}).ids(true).filter(function(x){return x!==g});var v=u.cells({selected:true}).eq(0).map(function(x){var y=u.row(x.row).id(true);return y?{row:y,column:x.column}:g}).filter(function(x){return x!==g});u.one("draw.dt.dtSelect",function(){u.rows(w).select();if(v.any()){v.each(function(x){u.cells(x.row,x.column).select()})}})});u.on("draw.dtSelect.dt select.dtSelect.dt deselect.dtSelect.dt info.dt",function(){r(u)});u.on("destroy.dtSelect",function(){i(u);u.off(".dtSelect")})}function b(A,y,t,z){var w=A[y+"s"]({search:"applied"}).indexes();var v=e.inArray(z,w);var u=e.inArray(t,w);if(!A[y+"s"]({selected:true}).any()&&v===-1){w.splice(e.inArray(t,w)+1,w.length)}else{if(v>u){var x=u;u=v;v=x}w.splice(u+1,w.length);w.splice(0,v)}if(!A[y](t,{selected:true}).any()){A[y+"s"](w).select()}else{w.splice(e.inArray(t,w),1);A[y+"s"](w).deselect()}}function n(t,v){if(v||t._select.style==="single"){var u=new k.Api(t);u.rows({selected:true}).deselect();u.columns({selected:true}).deselect();u.cells({selected:true}).deselect()}}function c(A,z,u,y,t){var x=z.select.style();var v=z[y](t,{selected:true}).any();if(x==="os"){if(A.ctrlKey||A.metaKey){z[y](t).select(!v)}else{if(A.shiftKey){if(y==="cell"){m(z,t,u._select_lastCell||null)}else{b(z,y,t,u._select_lastCell?u._select_lastCell[y]:null)}}else{var w=z[y+"s"]({selected:true});if(v&&w.flatten().length===1){z[y](t).deselect()}else{w.deselect();z[y](t).select()}}}}else{if(x=="multi+shift"){if(A.shiftKey){if(y==="cell"){m(z,t,u._select_lastCell||null)}else{b(z,y,t,u._select_lastCell?u._select_lastCell[y]:null)}}else{z[y](t).select(!v)}}else{z[y](t).select(!v)}}}e.each([{type:"row",prop:"aoData"},{type:"column",prop:"aoColumns"}],function(t,u){k.ext.selector[u.type].push(function(A,B,x){var z=B.selected;var C;var w=[];if(z===g){return x}for(var y=0,v=x.length;y<v;y++){C=A[u.prop][x[y]];if((z===true&&C._select_selected===true)||(z===false&&!C._select_selected)){w.push(x[y])}}return w})});k.ext.selector.cell.push(function(y,z,v){var x=z.selected;var A;var u=[];if(x===g){return v}for(var w=0,t=v.length;w<t;w++){A=y.aoData[v[w].row];if((x===true&&A._selected_cells&&A._selected_cells[v[w].column]===true)||(x===false&&(!A._selected_cells||!A._selected_cells[v[w].column]))){u.push(v[w])}}return u});var d=k.Api.register;var a=k.Api.registerPlural;d("select()",function(){return this.iterator("table",function(t){k.select.init(new k.Api(t))})});d("select.blurable()",function(t){if(t===g){return this.context[0]._select.blurable}return this.iterator("table",function(u){u._select.blurable=t})});d("select.info()",function(t){if(r===g){return this.context[0]._select.info}return this.iterator("table",function(u){u._select.info=t})});d("select.items()",function(t){if(t===g){return this.context[0]._select.items}return this.iterator("table",function(u){u._select.items=t;f(new k.Api(u),"selectItems",[t])})});d("select.style()",function(t){if(t===g){return this.context[0]._select.style}return this.iterator("table",function(u){u._select.style=t;if(!u._select_init){o(u)}var v=new k.Api(u);i(v);if(t!=="api"){p(v)}f(new k.Api(u),"selectStyle",[t])})});d("select.selector()",function(t){if(t===g){return this.context[0]._select.selector}return this.iterator("table",function(u){i(new k.Api(u));u._select.selector=t;if(u._select.style!=="api"){p(new k.Api(u))}})});a("rows().select()","row().select()",function(t){var u=this;if(t===false){return this.deselect()}this.iterator("row",function(w,v){n(w);w.aoData[v]._select_selected=true;e(w.aoData[v].nTr).addClass(w._select.className)});this.iterator("table",function(v,w){f(u,"select",["row",u[w]],true)});return this});a("columns().select()","column().select()",function(t){var u=this;if(t===false){return this.deselect()}this.iterator("column",function(w,v){n(w);w.aoColumns[v]._select_selected=true;var x=new k.Api(w).column(v);e(x.header()).addClass(w._select.className);e(x.footer()).addClass(w._select.className);x.nodes().to$().addClass(w._select.className)});this.iterator("table",function(v,w){f(u,"select",["column",u[w]],true)});return this});a("cells().select()","cell().select()",function(t){var u=this;if(t===false){return this.deselect()}this.iterator("cell",function(v,w,y){n(v);var x=v.aoData[w];if(x._selected_cells===g){x._selected_cells=[]}x._selected_cells[y]=true;if(x.anCells){e(x.anCells[y]).addClass(v._select.className)}});this.iterator("table",function(v,w){f(u,"select",["cell",u[w]],true)});return this});a("rows().deselect()","row().deselect()",function(){var t=this;this.iterator("row",function(v,u){v.aoData[u]._select_selected=false;e(v.aoData[u].nTr).removeClass(v._select.className)});this.iterator("table",function(u,v){f(t,"deselect",["row",t[v]],true)});return this});a("columns().deselect()","column().deselect()",function(){var t=this;this.iterator("column",function(v,u){v.aoColumns[u]._select_selected=false;var x=new k.Api(v);var w=x.column(u);e(w.header()).removeClass(v._select.className);e(w.footer()).removeClass(v._select.className);x.cells(null,u).indexes().each(function(z){var A=v.aoData[z.row];var y=A._selected_cells;if(A.anCells&&(!y||!y[z.column])){e(A.anCells[z.column]).removeClass(v._select.className)}})});this.iterator("table",function(u,v){f(t,"deselect",["column",t[v]],true)});return this});a("cells().deselect()","cell().deselect()",function(){var t=this;this.iterator("cell",function(u,v,x){var w=u.aoData[v];w._selected_cells[x]=false;if(w.anCells&&!u.aoColumns[x]._select_selected){e(w.anCells[x]).removeClass(u._select.className)}});this.iterator("table",function(u,v){f(t,"deselect",["cell",t[v]],true)});return this});function j(t,u){return function(v){return v.i18n("buttons."+t,u)}}function s(t){var u=t._eventNamespace;return"draw.dt.DT"+u+" select.dt.DT"+u+" deselect.dt.DT"+u}var q=0;e.extend(k.ext.buttons,{selected:{text:j("selected","Selected"),className:"buttons-selected",init:function(w,v,t){var u=this;t._eventNamespace=".select"+(q++);w.on(s(t),function(){var x=u.rows({selected:true}).any()||u.columns({selected:true}).any()||u.cells({selected:true}).any();u.enable(x)});this.disable()},destroy:function(v,u,t){v.off(t._eventNamespace)}},selectedSingle:{text:j("selectedSingle","Selected single"),className:"buttons-selected-single",init:function(w,v,t){var u=this;t._eventNamespace=".select"+(q++);w.on(s(t),function(){var x=w.rows({selected:true}).flatten().length+w.columns({selected:true}).flatten().length+w.cells({selected:true}).flatten().length;u.enable(x===1)});this.disable()},destroy:function(v,u,t){v.off(t._eventNamespace)}},selectAll:{text:j("selectAll","Select all"),className:"buttons-select-all",action:function(){var t=this.select.items();this[t+"s"]().select()}},selectNone:{text:j("selectNone","Deselect all"),className:"buttons-select-none",action:function(){n(this.settings()[0],true)},init:function(w,v,t){var u=this;t._eventNamespace=".select"+(q++);w.on(s(t),function(){var x=w.rows({selected:true}).flatten().length+w.columns({selected:true}).flatten().length+w.cells({selected:true}).flatten().length;u.enable(x>0)});this.disable()},destroy:function(v,u,t){v.off(t._eventNamespace)}}});e.each(["Row","Column","Cell"],function(t,v){var u=v.toLowerCase();k.ext.buttons["select"+v+"s"]={text:j("select"+v+"s","Select "+u+"s"),className:"buttons-select-"+u+"s",action:function(){this.select.items(u)},init:function(x){var w=this;x.on("selectItems.dt.DT",function(A,y,z){w.active(z===u)})}}});e(l).on("preInit.dt.dtSelect",function(u,t){if(u.namespace!=="dt"){return}k.select.init(new k.Api(t))});return k.select}));